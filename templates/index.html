<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@400;700&family=Merriweather:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <!-- Preloader Animation -->
    <div id="preloader">
        <div class="heart"></div>
    </div>

    <!-- Main Content Section -->
    <div class="container">
        <!-- Welcome Section -->
        <div class="homepage">
            <h1 class="title">Welcome to our Love Story, Zainab</h1>
            <p class="intro-text">Join me on a beautiful journey through the chapters of our love story.</p>
            <button class="go-ahead" id="go-ahead-button">Go Ahead</button>
        </div>
    </div>

    <!-- Journey Map (Sticky) -->
    <div class="journey-map">
        <div class="journey-bubble active"></div>
        <div class="journey-line"></div>
        <div class="journey-bubble"></div>
        <div class="journey-line"></div>
        <div class="journey-bubble"></div>
        <div class="journey-line"></div>
        <div class="journey-bubble"></div>
        <div class="journey-line"></div>
        <div class="journey-bubble"></div>
        <div class="journey-line"></div>
        <div class="journey-bubble"></div>
    </div>

    <!-- Music Player -->
    <audio id="background-music" loop>
        <audio src="{{ url_for('static', filename='audio/love_song.mp3') }}" controls autoplay></audio>
    </audio>
    <button id="mute-button" class="mute-button">ðŸ”Š</button>

    <!-- Footer -->
    <footer>
        <p>Made with love by Nazzal</p>
    </footer>

    <script src="{{ url_for('static', filename='js/animations.js') }}"></script>
    <script>
        // Mute/Unmute Audio
        const muteButton = document.getElementById('mute-button');
        const backgroundMusic = document.getElementById('background-music');
        muteButton.addEventListener('click', () => {
            if (backgroundMusic.paused) {
                backgroundMusic.play();
                muteButton.textContent = 'ðŸ”Š';
            } else {
                backgroundMusic.pause();
                muteButton.textContent = 'ðŸ”‡';
            }
        });

        // Preloader Animation
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            preloader.style.display = 'none';
        });

        // Handle Chapter Progression
        const nextButton = document.getElementById('go-ahead-button');
        nextButton.addEventListener('click', () => {
            window.location.href = '/chapter/1';  // Navigate to Chapter 1
        });
    </script>
</body>

</html>